import{r as s,j as e}from"./index-8wWL1V7M.js";import{a as b}from"./index-B9ygI19o.js";function z({setQuizing:n}){const[i,u]=s.useState(""),[t,p]=s.useState([]),[c,d]=s.useState(0),[r,a]=s.useState(0),[x,S]=s.useState(!1),[f,v]=s.useState([]),[j,y]=s.useState(!1);s.useEffect(()=>{(async()=>{n(!0);try{const o=await b.get("https://apis.dnjs.lk/objects/quiz.php");p(o.data)}catch(o){u("failed to fetch data"),console.error(o)}})()},[]);const w=l=>{const o=t[c],g=o.correct;l===g&&(a(h=>h+1),console.log(r));const m=c+1;m<t.length?d(m):S(!0),v(h=>[...h,{question:o,selectedIndex:l,correctIndex:g}]),console.log(f)};return e.jsx("div",{children:j?e.jsx(E,{review:j,quizData:f,setQuizData:f,setCurrentQuestion:d}):x?e.jsx(C,{score:r,setReview:()=>y(!0)}):e.jsxs("div",{children:[e.jsx("div",{children:t[c]?.question}),e.jsx("div",{children:t[c]?.answers.map((l,o)=>e.jsx("button",{style:{margin:"10px"},onClick:()=>w(o,t[c].answers),children:l},o))}),e.jsx("p",{children:i})]})})}function Q({setQuizing:n}){return e.jsxs("div",{children:[e.jsx("div",{style:{margin:"10px",fontSize:"40px",fontFamily:"Poppins"},children:"LET'S QUIZ"}),e.jsx("button",{onClick:()=>n(!0),children:"Start"})]})}function C({score:n,setReview:i}){const[u,t]=s.useState("");return s.useEffect(()=>{t("FINISHED!")},[]),e.jsxs("div",{children:[e.jsx("div",{style:{margin:"10px",fontSize:"40px",fontFamily:"Poppins"},children:u}),e.jsxs("div",{style:{margin:"10px",fontSize:"30px",fontFamily:"Poppins"},children:["YOUR SCORE IS: ",n," / 10"]}),e.jsx("button",{onClick:i,children:"Review Question"})]})}function E({quizData:n}){const[i,u]=s.useState(0);console.log("data:",n);const t=n[i],p=()=>{u(r=>Math.min(r+1,n.length-1))},c=()=>{u(r=>Math.max(r-1,0))},d=(r,a,x)=>r===x?"green":r===a&&a!==x?"red":"black";return e.jsxs("div",{children:[e.jsx("div",{children:t.question.question}),e.jsx("div",{children:t.question.answers.map((r,a)=>e.jsx("button",{style:{margin:"10px",backgroundColor:d(a,t.selectedIndex,t.correctIndex)},children:r},a))}),e.jsx("button",{onClick:c,style:{margin:"10px"},children:"prev"}),e.jsx("button",{onClick:p,style:{margin:"10px"},children:"Next"})]})}function I(){const[n,i]=s.useState(!1);return n?e.jsx(z,{setQuizing:i}):e.jsx(Q,{setQuizing:i})}export{I as default};
