import{r as n,j as l}from"./index-CUoQQgfi.js";const u=4;function B(){const[o,m]=n.useState([]),[i,p]=n.useState(null),[v,g]=n.useState([]),[h,C]=n.useState(!1);n.useEffect(()=>{m([["#0da863","#ff4f58","#4da3ff"],["#4da3ff","#9e4eff","#7f353d"],["#ff782a","#7f353d","#0da863"],["#7f353d","#9e4eff","#4da3ff"],["#ff4f58","#ff782a","#7f353d"],["#9e4eff","#0da863","#ff4f58"],["#9e4eff","#ff782a","#4da3ff"],["#0da863","#ff4f58","#ff782a"]])},[]);const x=f=>{i===null?p(f):(i!==f&&y(i,f),p(null))},y=(f,a)=>{const s=[...o],e=[...s[f]],t=[...s[a]];if(e.length===0||t.length===u)return;const c=e[e.length-1];let r=1;for(let d=e.length-2;d>=0&&e[d]===c;d--)r++;const N=t[t.length-1],b=u-t.length;if(t.length===0||N===c){const d=Math.min(r,b);for(let j=0;j<d;j++)t.push(c),e.pop();s[f]=e,s[a]=t,m(s)}},E=()=>{m([["#0da863","#ff4f58","#4da3ff"],["#4da3ff","#9e4eff","#7f353d"],["#ff782a","#7f353d","#0da863"],["#7f353d","#9e4eff","#4da3ff"],["#ff4f58","#ff782a","#7f353d"],["#9e4eff","#0da863","#ff4f58"],["#9e4eff","#ff782a","#4da3ff"],["#0da863","#ff4f58","#ff782a"]]),C(!1),g([]),p(null)};return n.useEffect(()=>{const f=o.map(e=>e.length===u&&e.every(t=>t===e[0]));g(f);const a=o.map((e,t)=>({b:e,i:t})).filter(({b:e})=>e.length>0).map(({i:e})=>e),s=a.length>0&&a.every(e=>f[e]===!0);C(s)},[o]),l.jsx("div",{children:l.jsxs("div",{className:"container",children:[o.map((f,a)=>{const s=v[a],e=f.length===0,t=s||h&&e;return l.jsxs("div",{className:`bottle ${s?"complete":""} ${h&&e?"empty-disabled":""}`,"data-holding":i===a?"true":"false",onClick:()=>!t&&x(a),children:[f.map((c,r)=>l.jsx("div",{className:"color",style:{backgroundColor:c,height:`${160/u}px`}},r)),s&&l.jsx("div",{className:"done-label",children:"Done"})]},a)}),h&&l.jsxs("div",{className:"footer",children:[l.jsx("div",{children:"Congratulations !"}),l.jsx("button",{className:"reset",onClick:()=>E(),children:"Restart Puzzle"})]})]})})}export{B as default};
