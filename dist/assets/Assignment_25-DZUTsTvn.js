import{r as c,j as n}from"./index-BUGNp8Pe.js";function h(){const[a,i]=c.useState(null),o=c.useRef(null),l=()=>{const e=new AudioContext,t=o.current,r=e.createMediaElementSource(t),s=e.createAnalyser();s.fftSize=64,r.connect(s),s.connect(e.destination),i(s),e.state==="suspended"&&e.resume,t.play()};return c.useEffect(()=>{if(!a)return;const e=new Uint8Array(a.frequencyBinCount),t=document.querySelectorAll(".bar"),r=()=>{a.getByteFrequencyData(e),t.forEach((s,u)=>{const m=e[u],d=Math.max(m/255*150,0);s.style.height=`${d}px`}),requestAnimationFrame(r),console.log(e)};r()},[a]),n.jsx("div",{children:n.jsxs("div",{className:"player",children:[n.jsx("div",{className:"animation",children:[...Array(32)].map((e,t)=>n.jsx("div",{className:"bar"},t))}),n.jsx("div",{className:"controls",children:n.jsx("audio",{ref:o,className:"source",src:"/catchy-jazzy-15-sec-stinger-343720.mp3",controls:!0,onPlay:l})})]})})}export{h as default};
