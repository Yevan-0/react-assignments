import{r as t,j as n}from"./index-wU5H7369.js";function p(){const a=t.useRef(0),g=t.useRef(.2),i=t.useRef(),[o,l]=t.useState([]),[c,f]=t.useState(!1),[v,u]=t.useState(0);return t.useEffect(()=>{let e=null,r=performance.now();const s=g.current,d=i.current,m=x=>{const h=x-r;r=x,a.current=(a.current+s*h)%360,d&&(d.style.transform=`translate(-50%, -50%) rotate(${a.current}deg)`),e=requestAnimationFrame(m)};return e=requestAnimationFrame(m),()=>cancelAnimationFrame(e)},[]),t.useEffect(()=>(window.onclick=()=>{if(c)return;const e=a.current*-1,r=o.findIndex(s=>Math.abs(s-e)<15);f(!0),setTimeout(()=>{f(!1),r!==-1?(u(0),l([])):(l(s=>[...s,e]),u(s=>s+1))},50)},()=>{window.onclick=null}),[c,o]),n.jsx("div",{children:n.jsxs("div",{className:"container",children:[n.jsx("div",{className:"score",children:v}),n.jsx("div",{className:"target-base",ref:i,children:o.map((e,r)=>n.jsx("div",{className:"knife-hit",style:{transform:`rotate(${e}deg)`}},r))}),n.jsx("div",{className:"knife","data-throwing":c}),n.jsx("div",{className:"target",style:{transform:`rotate(${a.current}deg)`}})]})})}export{p as default};
