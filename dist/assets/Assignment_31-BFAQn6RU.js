import{r,j as n}from"./index-B7nyDFUi.js";function j(){const[s,d]=r.useState([]),[i,l]=r.useState(1),[o,m]=r.useState(),[u,p]=r.useState(!1);r.useEffect(()=>{d([{id:i,bg:"#3366cc",animation:"Instant"}])},[]),r.useEffect(()=>{m(["#3366cc","#cc0044","#2d8659","#db5e0a","#8a00e6"])},[]);const a=s.find(e=>e.id===i),x=()=>{const e=s.length>0?Math.max(...s.map(t=>t.id))+1:1,c={id:e,bg:"#3366cc",animation:"Instant"};d(t=>[...t,c]),l(e)},h=()=>{if(s.length<=1)return;const e=s.filter(t=>t.id!==a.id),c=e[e.length-1];d(e),l(c.id)},f=()=>{s.length>0&&l(s[0].id),p(!0)};return n.jsx("div",{children:u?n.jsx(g,{currentSlide:i,setCurrentSlide:l,listing:s,setPresent:p,bg:o,setBg:m}):n.jsx("div",{className:"container",children:n.jsxs("div",{className:"editor",children:[n.jsxs("div",{className:"listing",children:[s.map(e=>n.jsx("div",{className:`listing-item ${e.id===i?"active":""}`,onClick:()=>l(e.id),style:{backgroundColor:e.bg},children:e.text?.slice(0,1)||""},e.id)),n.jsx("div",{className:"listing-item add",onClick:x})]}),n.jsxs("div",{className:"slide",style:{backgroundColor:a?.bg||"#222"},children:[n.jsx("div",{className:"delete",onClick:h}),n.jsx("div",{className:"play",onClick:f}),n.jsx("input",{type:"text",spellCheck:"false",value:a?.text||"",onChange:e=>{const c=s.map(t=>t.id===i?{...t,text:e.target.value}:t);d(c)},style:{backgroundColor:"transparent",border:"none",outline:"none",textAlign:"center",fontSize:"36px"}}),n.jsx("div",{className:"backgrounds",children:o?.map(e=>n.jsx("div",{className:"background-item",style:{backgroundColor:e,border:a?.bg===e?"2px solid #fff":"1px solid transparent"},onClick:()=>{const c=s.map(t=>t.id===i?{...t,bg:e}:t);d(c)}},e))}),n.jsx("div",{className:"animations",children:["Instant","Fade","Blur","Up","Down","Rotate"].map(e=>n.jsx("div",{className:"animation-item",style:{border:a?.animation===e?"2px solid #fff":"1px solid transparent"},onClick:()=>{const c=s.map(t=>t.id===i?{...t,animation:e}:t);d(c)},children:e},e))})]})]})})})}function g({currentSlide:s,setCurrentSlide:d,listing:i,setPresent:l}){const o=i.find(a=>a.id===s),m=()=>{l(!1)},u=()=>{const a=i.findIndex(x=>x.id===s);a<i.length-1&&d(i[a+1].id)},p=()=>{const a=i.findIndex(x=>x.id===s);a>0&&d(i[a-1].id)};return n.jsx("div",{children:n.jsx("div",{className:"show",children:n.jsxs("div",{className:`show-slide-idle ${o?.animation?.toLowerCase()}`,style:{backgroundColor:o?.bg},children:[n.jsx("div",{className:"exit",onClick:m}),n.jsx("div",{className:"slide-text",children:o?.text||""}),n.jsx("div",{className:"next",onClick:u}),n.jsx("div",{className:"prev",onClick:p})]})})})}export{j as default};
