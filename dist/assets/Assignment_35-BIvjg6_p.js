import{r as d,j as a}from"./index-wU5H7369.js";const f=3,i=3;function N(){const[u,w]=d.useState([]),[v,x]=d.useState(null),[y,h]=d.useState();d.useEffect(()=>{w(Array(f).fill().map(()=>Array(i).fill()))},[]),d.useEffect(()=>{const s=new Set,t=f*i,o=[],r=()=>{let e;do e=Math.floor(Math.random()*t);while(s.has(e));return s.add(e),e};for(let e=0;e<f;e++){const c=[];for(let l=0;l<i;l++)c.push(r());o.push(c)}w(o);const n=Math.floor(Math.random()*t);x(n),h(!1)},[]);const g=()=>{for(let s=0;s<f;s++)for(let t=0;t<i;t++)if(u[s][t]===v)return{row:s,col:t};return null},k=s=>{const t=s.flat();for(let o=0;o<t.length-1;o++)if(t[o]!==o)return!1;return!0};d.useEffect(()=>{const s=t=>{const o=g();if(!o)return;const{row:r,col:n}=o,e=u.map(l=>[...l]),c=(l,j,m,p)=>{[e[l][j],e[m][p]]=[e[m][p],e[l][j]],w(e),x(e[m][p]),h(k(e))};switch(t.key.toLowerCase()){case"arrowup":case"w":r<f-1&&c(r,n,r+1,n);break;case"arrowdown":case"s":r>0&&c(r,n,r-1,n);break;case"arrowleft":case"a":n<i-1&&c(r,n,r,n+1);break;case"arrowright":case"d":n>0&&c(r,n,r,n-1);break}};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[u]);const b=()=>{console.log("Retry button clicked"),h(!1)};return a.jsx("div",{children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:"puzzle","data-solved":y?"true":"false",children:[u.map((s,t)=>a.jsx("div",{className:"row",children:s.map((o,r)=>{const n=o%i*(400/i),e=Math.floor(o/i)*(400/f);return a.jsx("div",{className:"tile",style:{backgroundPosition:`-${n}px -${e}px`,visibility:o===v?"hidden":"visible"}},r)})},t)),y&&a.jsxs("div",{className:"image-overlay",children:[a.jsx("img",{src:"./sliding-puzzle.jpg"}),a.jsx("button",{className:"retry-button",onClick:b,children:"Retry"})]})]})})})}export{N as default};
