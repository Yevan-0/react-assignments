import{r as t,j as n}from"./index-DHnn0fBU.js";function y(){const[s,m]=t.useState(!1),[g,v]=t.useState(0),[h,l]=t.useState(0),[x,d]=t.useState(0),a=t.useRef(null),i=t.useRef(null),u=e=>{console.log("gamma:",e.gamma);const r=e.gamma?Number(e.gamma).toPrecision(3):0;v(r)},p=async()=>{if(typeof DeviceOrientationEvent<"u"&&typeof DeviceOrientationEvent.requestPermission=="function")try{await DeviceOrientationEvent.requestPermission()==="granted"&&window.addEventListener("deviceorientation",u)}catch(e){console.error("Permission request failed:",e)}else typeof DeviceOrientationEvent<"u"&&window.addEventListener("deviceorientation",u)};return t.useEffect(()=>{if(!s)return;const e=setInterval(()=>{d(r=>{const f=r+5;if(a.current&&i.current){const o=a.current.getBoundingClientRect(),c=i.current.getBoundingClientRect();if(o.bottom>=c.top&&o.right>=c.left&&o.left<=c.right||f>window.innerHeight)return l(Math.random()*window.innerWidth-50),0}return f})},30);return()=>clearInterval(e)},[s]),t.useEffect(()=>{s&&(l(Math.random()*(window.innerWidth-50)),d(0))},[s]),n.jsx("div",{children:s?n.jsxs("div",{className:"container",children:[n.jsx("div",{ref:a,className:"balls",style:{transform:`translate(${h}px, ${x}px)`}}),n.jsx("div",{ref:i,className:"basket",style:{transform:`translateX(${g*40}px)`}})]}):n.jsxs("div",{className:"home-page",children:[n.jsx("div",{className:"header",children:"Gyro"}),n.jsx("button",{onClick:()=>{m(!0),p()},children:"Start"})]})})}export{y as default};
